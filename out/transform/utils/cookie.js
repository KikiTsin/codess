"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class e{constructor(){this.data={}}checkExpires(e){const t=this.data[e];if(t){if(!(t.expires&&new Date>new Date(t.expires)))return t.value;delete this.data[e]}}refresh(){Object.keys(this.data).forEach(this.checkExpires.bind(this))}parserKeyValue(e){const t=e.split("="),s=t[0];let r;return r=!(t.length>1)||t.slice(1).join("="),[s,r]}parserOne(e){const t=e.split("; "),s={expires:""},[r,...i]=t,[a,n]=this.parserKeyValue(r);s.value=n,s.key=a,i.forEach((e=>{const[t,r]=this.parserKeyValue(e);if("max-age"===t){const e=new Date((new Date).getTime()+1e3*+r).toUTCString();s.expires=e}else s[t]=r})),this.data[a]=s}parserList(e=[]){e.forEach(this.parserOne.bind(this))}getOne(e){return this.checkExpires(e)}getAll(){return Object.keys(this.data).map((e=>{const t=this.checkExpires(e);return t?`${e}=${t}`:void 0})).filter(Boolean).join("; ")}}exports.default=e;