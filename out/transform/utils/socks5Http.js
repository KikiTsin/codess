"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.socks5Http=void 0;const e=require("node:child_process"),o=e=>{const{cookie:o,data:t,socks5:r,url:s,method:c="GET",timeout:n=6e4}=e;let i="curl --connect-timeout "+n/1e3;return o&&(i+=` -b '${o}'`),t&&(i+=` -d '${JSON.stringify(t)}' -H 'Content-Type: application/json'`),r&&(i+=` --socks4a ${r}`),i+=` -X ${c} ${s}`,i},t=(t={})=>{const r=o(t);return new Promise(((o,t)=>{(0,e.exec)(r,((e,r,s)=>{if(e)return void t(new Error(`执行的错误: ${e}`));let c=s;if(r)try{const e=JSON.parse(r);console.log(e),o(e)}catch(e){t(new Error(`解析错误: ${r}`))}else c=e||c,t(new Error(c))}))}))};exports.socks5Http=t;